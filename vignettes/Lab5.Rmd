---
title: "Lab5:Web API usage"
author: "Andrea Bruzzone, Thomas Zhang"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Lab5:Web API usage}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---
**THIS PACKAGE WORKS ON WINDOWS ONLY DUE TO FILE ENCODING ISSUES**

## Package Info

We have created a web API package which can request metadata from the SR Open API v.2. Among the data one can currently request are a list of radio channels, a list of radio programs and the current program running on each channel.
 
```{r,echo=FALSE,message=FALSE}
library(Lab5)

```

## Functions

There are three main functions in this package, we demonstrate them below.
The function \code{get_channels} requests a list of available SR radio channels and their channel ids.
```{r,echo=FALSE}
a <- get_channels()
head(a)
```
The function \code{get_programs} request the currently non-archived (i.e. purportedly still broadcasting) programs and returns a dataframe of their names, broadcast channel ids and broadcast channel name.

```{r,echo=FALSE}
b <- get_programs(get_channels)
head(b)
```
The function \code{get_song} takes input a character channel name and a dataframe containing channels and channel ids. Despite the name, this function actually does not return the current song playing on the input channel. Rather, it returns the current program name and the current program episode playing on the channel, where applicable.

```{r,echo=FALSE}
c <-get_song("P3",get_channels)
c
```


## Shinyapp

This package has a shiny app which can be run from github using call\code{runGitHub("thozh912/Shinyapp")}.
You need Lab5 package to run it.

```{r}

```

